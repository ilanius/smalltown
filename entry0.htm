<!doctype html>
<html>
<head>
  <?php 
    requir0('head', $R);
  ?>
  <script>
    function modalView( event, view ) { // we keep event just in case
      var i, tab, viewButton;
      var tab = document.getElementsByClassName("view");
      for ( i = 0; i < tab.length; i++ ) {
        tab[i].style.display = "none";  
      }
      var viewButton = document.getElementsByClassName("viewButton");
      for ( i = 0; i < viewButton.length; i++) {
        viewButton[i].className = viewButton[i].className.replace(" active", "");
      }
      event.currentTarget.className += " active";
      document.getElementById( view ).style.display = "block";  
    }
  </script>
</head>

<body class="login">
  <nav class="black">
    <button class="viewButton active" onclick="modalView(event, 'login')">  Login         </button>
    <button class="viewButton" onclick="modalView(event, 'lost')">   Lost Password </button>
    <button class="viewButton" onclick="modalView(event, 'signup')"> Sign Up!      </button>
  </nav>

  <div id="login" class="view">
    <h1>Login</h1>
    <?= $R['badLogin'] ?>
    <form action="index.php" method="post">
      <input type="hidden"  name="func" value="userLogin">
      <label for="uEmail">    User Email   </label> <input type="email"    name="uEmail" required> <br>
      <label for="uPassword0"> Password    </label> <input type="password" name="uPassword0" required>
      <button class="modalButton" type="submit"> =>Login => </button>
    </form>                   
    <br> <br>
  </div>                       
 
  <div id="lost" class="view">
    <h1>Lost Password </h1>
    <label for="uEmail"> User Email </label> <input type="email" id="reqUEmail" name="uEmail" required> <br>
    <span id="reqLoginMail"> 
      <button onclick="reqLoginMail(event, 'reqLoginMail','reqUEmail')"> Request password </button> 
    </span>
    <br>  <br>
  </div>

  <div id="signup" class="view">
    <h1>Sign Up</h1>
    <form action="index.php" method="post">
      <input type="hidden" name="func" value="userSignup">
      <label for="uEmail">    User Email       </label> <input type="email"    name="uEmail"                     required> <br>
      <label for="uFirstName">User Firstname   </label> <input type="text"     name="uFirstName" pattern="\w+"   required> <br>
      <label for="uLastName"> User Lastname    </label> <input type="text"     name="uLastName"  pattern="\w+"   required> <br>
      <label for="uYear">     User Year  (YYYY)</label> <input type="text"     name="uYear"      pattern="\d{4}" value="1234" required> <br>
      <label for="uPassword0">Password         </label> <input type="password" name="uPassword0" required> &nbsp;
      <button type="submit">Sign Up</button>
    </form>
    <br>  <br>
  </div>

  <div class="view0"> 
    <div class="cookieLoose">
        Cookies on the loose!! This site uses cookies! - If you don't like cookies don't use this site! <br>
        : <?=$R['session']?> : <?=$R['func']?> : <br>        
    </div>
    <div>     
      <a href="https://www.w3schools.com/w3css/w3css_tabulators.asp"> W3School on tabs (Javascript/CSS) </a>
    </div>
  </div>

</body>
</html>
